
<style>
    .zeroclipboard-is-hover {background: red; }
    .zeroclipboard-is-active {background: green; }
</style>
<div  name="warnDetail">

    <div class="main-top-bar">
        <p><span class="icon-icon_location"></span>警报管理>警报列表>详细信息</p>
    </div>
    <div class="main-content">
        <div class="main-detail">
            <div class="main-detail-tab">
                <ul class="nav nav-tabs">
                    <li class="tab-item" style="margin-left:20px;" ng-class="tabSwitch==0?'active':''" name="warnDetail_photo" ng-click="tabSwitch=0;replay()"><a href="javascript:void(0)"><span class="icon icon-icon_picture"></span><br/>照片地址</a></li>
                    <li class="tab-item" ng-class="tabSwitch==1?'active':''" name="warnDetail_video" ng-click="tabSwitch=1;"><a href="javascript:void(0)"><span class="icon icon-icon_video"></span><br/>视频地址</a></li>
                </ul>
                <div class="detail-img" ng-show="tabSwitch==0" id="detail-img-url">
                    <img  id="photo_address"  class="photo_address" ng-src="{{detail.photo_url |img}}" ng-click="detail.photo_url?fullScreen():''"/>
                    <div class="img-bottom-bar" ng-show="detail.photo_url">
                        <a ng-href="{{detail.photo_url}}" class="icon icon-icon_download" download></a>
                        <span class="icon icon-icon_expand" ng-click="detail.photo_url?fullScreen():''"></span>
                    </div>
                </div>
                <div class="detail-img" ng-show="tabSwitch==1">
                    <img ng-src="{{detail.video_url | img:true}}" ng-show="!detail.video_url"/>
                    <div ng-show="detail.video_url"> <div id="container"></div> </div>
                </div>
            </div>
            <div class="main-detail-content">
                <div class="form-group">
                    <span class="col-lg-12"><span class="icon icon-icon_eventlog"></span>NO:{{detail.id}} 详细信息</span>
                </div>
                <div class="form-group">
                    <span class="col-lg-2">事件反馈类型</span>
                    <span class="col-lg-4">{{detail.event_feedback_type_display}}</span>
                    <span class="col-lg-2">事件类型</span>
                    <span class="col-lg-4">{{detail.event_type_display}}</span>
                </div>
                <div class="form-group">
                    <span class="col-lg-2">事件发生时间</span>
                    <span class="col-lg-4">{{detail.event_datetime|time_format}}</span>
                    <span class="col-lg-2">摄像头</span>
                    <span class="col-lg-4">{{detail.ip_address}}</span>
                </div>
                <div class="form-group">
                    <span class="col-lg-2">RFID读写器</span>
                    <span class="col-lg-4">{{detail.event_feedback_type_display}}</span>
                    <span class="col-lg-2">事件反馈简述</span>
                    <span class="col-lg-4">{{detail.event_feedback_detail_display|characters:10 :true}}</span>
                </div>
                <div class="form-group">
                    <span class="col-lg-2">RFID列表</span>
                    <span class="col-lg-10">{{detail.rfid_list_display}}</span>
                </div>
                <div class="form-group">
                    <span class="col-lg-2">处理结果</span>
                    <span class="col-lg-10">{{detail.handle_result_display}}<a href="javascript:void(0)" style="margin-left:10px;" ng-if="detail.handle_result==0" ng-click="handleEvent(detail)">前去处理</a></span>
                </div>
                <div class="form-group">
                    <span class="col-lg-2">事件描述</span>
                    <span class="col-lg-10">{{detail.description}}</span>
                </div>
            </div>
            <div class="main-detail-record">
                <div class="record-title">
                    <span class="col-lg-12"><span class="icon icon-icon_records"></span>历史操作记录详情</span>
                </div>
                    <div class="record-list">
                        <div class="record-item" ng-repeat="record in dataList">
                            <div class="item-row">
                                <span>处理时间</span><span>{{record.created_at|time_format}}</span>
                            </div>
                            <div class="item-row">
                                <span>处理人</span><span>{{record.handle_user.username}}</span>
                            </div>
                            <div style="clear: both">
                            <div class="item-row">
                                <span>具体操作</span><span>{{record.event_log.description}}</span>
                            </div>
                        </div>
                        <div class="list-bottom" ng-show="listLoadFlag==1">
                            <span>加载中...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
