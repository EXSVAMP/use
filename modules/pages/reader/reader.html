<div ng-controller="readerCtrl">
<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
        <h3 class="modal-title"><span class="icon-icon_cardreader"></span>{{item.title}}</h3>
    </div>
    <div class="modal-body row">
        <div ng-show="item.text">{{item.text}}</div>
        <!-- <div class="row col-md-12" ng-show="item.title">
            <div class=" col-md-12" ng-hide="item.status_disable">
                <form class="form-inline">
                    <div class="form-group col-md-12">
                        <label class="label-md-4">RFID卡：</label>
                        <select class="form-control search-md-8" ng-model="status">
                            <option value="-1">选择键值</option>
                            <option ng-repeat="(key, value) in choice" value="{{key}}">{{value}}</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class=" col-md-12" ng-class="{true:'col-md-12'}[item.status_disable]">
                <form class="form-inline">
                    <div class="form-group col-md-12">
                        <label class="label-md-4" ng-show="item.method=='replace'" style="width: 29%!important">新卡序列号：<em style="color: red;font-size: 8px">(*必填)</em></label>
                        <label class="label-md-4" ng-show="item.method=='add'">序列号：<em style="color: red;font-size: 8px">(*必填)</em></label>
                        <label class="label-md-4" ng-show="item.method=='modify'">序列号</label>
                        <input type="text" class="form-control search-md-8" ng-model="serial_number" placeholder="序列号"/>
                    </div>
                </form>
            </div>

        </div> -->

        <form role="form" class="pop-edit-form-com edit-form-reader" ng-show="item.method=='modify' || item.method=='add'">
          <div class="form-group">
          <label for="func_type_edit">功能类型:</label> 
          <ui-select ng-model="func_typeSel_edit" theme="bootstrap" on-select="func_typeSelFunc_edit(func_typeSel_edit)">
                <ui-select-match placeholder="--请选择-">{{$select.selected.value}}</ui-select-match>
                <ui-select-choices repeat="(key,value) in choice['func_type']">
                    <div ng-bind-html="value.value"></div>
                    <!-- <small ng-bind-html="item.email"></small> -->
                </ui-select-choices>
              </ui-select>
      </div>
      <div class="form-group">
          <label for="status_edit">读写器状态:</label> 
          <ui-select ng-model="statusSel_edit" theme="bootstrap" on-select="statusSelFunc_edit(statusSel_edit)">
                <ui-select-match placeholder="--请选择-">{{$select.selected.value}}</ui-select-match>
                <ui-select-choices repeat="(key,value) in choice['status']">
                    <div ng-bind-html="value.value"></div>
                    <!-- <small ng-bind-html="item.email"></small> -->
                </ui-select-choices>
              </ui-select>
      </div>
      <div class="form-group">
          <label for="description_edit">读写器描述:</label> 
           <input type="text" class="form-control" id="description_edit" placeholder="请输入名称" ng-model="description_edit">
      </div>
      <div class="form-group">
          <label for="serial_number_edit">序列号:</label> 
           <input type="text" class="form-control" id="serial_number_edit" placeholder="请输入名称" ng-model="serial_number_edit">
      </div>
        </form>

        <div class="pop-delete-com delete-reader" ng-show="item.method=='delete'"><p><span></span>确定要删除这个读写器信息吗？<br/>注意：删除以后不可以恢复！</p></div>

    </div>
    <div class="modal-footer">
      <div class="modal-footer-resize-com modal-footer-resize-reader">
        <button class="btn btn-primary btn-solid-back" type="button" ng-click="ok()">确定</button>
        <button class="btn btn-warning btn-blank-back" type="button" ng-click="cancel()">取消</button>
      </div>
    </div>
</script>

	<div class="main-top-bar reader-bar">
		<p><span class="icon-icon_location"></span>设备管理>读写器</p>
	</div>
	<div class="main-content reader-content">
		<form role="form" class="search-bar reader-select">
			<div class="form-group">
    			<label for="func_type">功能类型:</label> 
    			<ui-select ng-model="func_typeSel" theme="bootstrap" on-select="func_typeSelFunc(func_typeSel)">
            		<ui-select-match placeholder="--请选择-">{{$select.selected.value}}</ui-select-match>
            		<ui-select-choices repeat="(key,value) in choice['func_type']">
              			<div ng-bind-html="value.value"></div>
              			<!-- <small ng-bind-html="item.email"></small> -->
            		</ui-select-choices>
          		</ui-select>
			</div>
      <div class="form-group">
          <label for="status">读写器状态:</label> 
          <ui-select ng-model="statusSel" theme="bootstrap" on-select="statusSelFunc(statusSel)">
                <ui-select-match placeholder="--请选择-">{{$select.selected.value}}</ui-select-match>
                <ui-select-choices repeat="(key,value) in choice['status']">
                    <div ng-bind-html="value.value"></div>
                    <!-- <small ng-bind-html="item.email"></small> -->
                </ui-select-choices>
              </ui-select>
      </div>
      <div class="form-group">
          <label for="description">读写器描述:</label> 
           <input type="text" class="form-control" id="description" placeholder="请输入名称" ng-model="description">
      </div>
			<div class="form-group">
    			<label for="serial_number">序列号:</label> 
    			 <input type="text" class="form-control" id="serial_number" placeholder="请输入名称" ng-model="serial_number">
			</div>
			<div class="btns-group">
				<button type="button" class="btn btn-com-search btn-rfid-search" ng-click="index=1;submit_search()"><span class="icon-icon_search"></span>搜索</button>
				<button type="button" class="btn btn-rfid-add" ng-click="open('md-edit-reader','add',$index)"><span class="icon-icon_plus"></span>增加</button>
			</div>
		</form>

		<table class="table table-bordered table-content">
  			<thead>
    			<tr>
      				<th ng-click="switch_order('id')"><p>编号<span ng-class="{false:'dwn-arw-af-card',true:'up-arw-af-card'}[order.id]"></span></p></th>
      				<th ng-click="switch_order('serial_number')"><p>序列号<span ng-class="{false:'dwn-arw-af-card',true:'up-arw-af-card'}[order.serial_number]"></span></p></th>
      				<th ng-click="switch_order('status')"><p>状态<span ng-class="{false:'dwn-arw-af-card',true:'up-arw-af-card'}[order.status]"></span></p></th>
              <th ng-click="switch_order('func_type')"><p>功能类型<span ng-class="{false:'dwn-arw-af-card',true:'up-arw-af-card'}[order.func_type]"></span></p></th>
              <th><p>描述</p></th>
      				<th ng-click="switch_order('updated_at')"><p>更新时间<span ng-class="{false:'dwn-arw-af-card',true:'up-arw-af-card'}[order.updated_at]"></span></p></th>
      				<th ng-click="switch_order('created_at')"><p>创建时间<span ng-class="{false:'dwn-arw-af-card',true:'up-arw-af-card'}[order.created_at]"></span</p></span></th>
      				<th><p>操作</p></th>
    			</tr>
  			</thead>
  			<tbody>
    			<!-- <tr>
      				<td><p>23</p></td>
      				<td><p>sa10011961</p></td>
      				<td><p>正常</p></td>
      				<td><p>2016.9.10</p></td>
      				<td><p>2019.8.1</p></td>
      				<td><p><span class="rfid-edit"></span><span class="rfid-delete"></span></p></td>
    			</tr> -->
    			<tr ng-repeat="item in dataList">
    				<td><p>{{item.id}}</p></td>
      				<td><p>{{item.serial_number}}</p></td>
      				<td><p>{{item.status_display}}</p></td>
              <td><p>{{item.func_type_display}}</p></td>
              <td><p>{{item.description}}</p></td>
      				<td><p>{{item.updated_at}}</p></td>
      				<td><p>{{item.created_at}}</p></td>
      				<td><p><span class="com-deit rfid-edit" ng-click="open('md-edit-reader','replace',$index)"></span><span class="com-delete rfid-delete" ng-click="open('md-delete','delete',$index)"></span></p></td>
    			</tr>
    		</tbody>
    	</table>

    	<div ng-class="{false:'emptyDataList emptyDataListShow',true:'emptyDataList'}[total>0&&listLoadFlag==2]">

    		<p><span class="icon-icon_cardreader"></span><span>对不起，您搜索的内容不存在。<br/>请重新搜索。</span></p>
 
    	</div>
      <table class="table table-pagination" ng-show="total>0">
        <thead>
          <tr>
            <th class="pagination-items-per-page">
              <div class="pagination-content">
              <span class="pagination-tip">每页显示数量</span>
              <ui-select ng-model="number2" theme="bootstrap" on-select="setShowNum(number2)">
                <ui-select-match placeholder="10">{{$select.selected}}</ui-select-match>
                <ui-select-choices repeat="item in numbers">
                    <div ng-bind-html="item"></div>
                    <!-- <small ng-bind-html="item.email"></small> -->
                </ui-select-choices>
              </ui-select>
              </div>
            </th>
            <th>
             <uib-pagination items-per-page="number" total-items="total" ng-change="changePage()" ng-model="index" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" num-pages="totalPage" previous-text="上一页" next-text="下一页">
             </uib-pagination>
              <div class="pagination-detail">
                <span>共{{total_page}}页</span>
                <span>跳至<input type="text" ng-model="index"/>页</span>
                <span><button id="" ng-click="setPage()">确定</button></span>
              </div>
            </th>

          </tr>
        </thead>
        
      </table>
	</div>
</div>